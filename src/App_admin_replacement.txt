  const renderAdminPanel = () => {
    const handleUserUpdate = (updatedUsers: User[]) => {
      setUsers(updatedUsers);
    };

    const apiCall = async (endpoint: string, options?: RequestInit) => {
      const token = localStorage.getItem('accessToken');
      const response = await fetch(`${API_BASE_URL}${endpoint}`, {
        ...options,
        headers: {
          'Content-Type': 'application/json',
          'Authorization': `Bearer ${token}`,
          ...options?.headers
        }
      });

      if (!response.ok) throw new Error('API call failed');
      return await response.json();
    };

    return (
      <AdminPanel
        currentUser={user!}
        organization={organization!}
        users={users}
        issues={issues}
        apiCall={apiCall}
        onUserUpdate={handleUserUpdate}
        showToast={showToast}
      />
    );
  };
